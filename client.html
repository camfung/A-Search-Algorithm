<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas Grid</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f0f0f0;
        }
    </style>
</head>
<body>
    <canvas id="gridCanvas"></canvas>

    <script type="module">
        import { io } from "https://cdn.socket.io/4.7.5/socket.io.esm.min.js";
        const socket = io("http://localhost:5000");

        // client-side
        socket.on("connect", () => {
          console.log(socket.id); // x8WIv7-mJelg7on_ALbx
        });
        function drawGrid(canvas, gridSize, coloredSquares) {
            const ctx = canvas.getContext('2d');
            
            // Calculate the size of each square
            const availableWidth = window.innerWidth * 0.75;
            const availableHeight = window.innerHeight * 0.75;
            const size = Math.min(availableWidth, availableHeight);
            const squareSize = size / gridSize;

            // Set canvas dimensions
            canvas.width = size;
            canvas.height = size;

            // Draw grid
            for (let row = 0; row < gridSize; row++) {
                for (let col = 0; col < gridSize; col++) {
                    // Check if the current square should be colored
                    const isColored = coloredSquares.some(([r, c]) => r === row && c === col);
                    ctx.fillStyle = isColored ? 'blue' : 'white';

                    // Draw the square
                    ctx.fillRect(col * squareSize, row * squareSize, squareSize, squareSize);

                    // Draw the grid lines
                    ctx.strokeStyle = 'black';
                    ctx.strokeRect(col * squareSize, row * squareSize, squareSize, squareSize);
                }
            }
        }

        // Example usage
        const gridSize = 10; // 10x10 grid
        const coloredSquares = [
            [1, 2], [3, 4], [5, 5], [7, 8]
        ];

        const canvas = document.getElementById('gridCanvas');
        drawGrid(canvas, gridSize, coloredSquares);

        // Redraw grid on window resize to maintain 75% fill
        window.addEventListener('resize', () => {
            drawGrid(canvas, gridSize, coloredSquares);
        });
    </script>
</body>
</html>
